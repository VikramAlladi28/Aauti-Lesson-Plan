import e,{useState as t}from"react";import{Editor as o}from"react-draft-wysiwyg";import"react-draft-wysiwyg/dist/react-draft-wysiwyg.css";!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===o&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".input{border:1px solid #d3d3d3;height:35px;outline:none;padding-left:5px}.localEditor{height:45vh;margin-bottom:20px;overflow-y:auto}.localEditorBorder{border:1px solid #d3d3d3;border-radius:5px;overflow-y:auto}input[type=file]{color:#0000}.inputfile{opacity:0;overflow:hidden;position:absolute}");var r=()=>{let r={subTopicName:"",subTopicDescription:"",contentData:"",uploadContent:[],selected:!1},a={topicName:"",selected:!1,topicDescription:"",contentData:"",uploadContent:[],subTopics:[]};const[i,n]=t([{topicName:"",selected:!1,topicDescription:"",contentData:"",uploadContent:["https://svbk-lms.s3.ap-south-1.amazonaws.com/aautie/images.jpeg","https://svbk-lms.s3.ap-south-1.amazonaws.com/aautie/Wallpaper.jpeg"],subTopics:[]}]),[l,s]=t(1),[c,p]=t(1),d=(e,t)=>{const o=i?.map(((o,r)=>{if(r+1!==l)return o;switch(t){case"topicName":return{...o,topicName:e};case"topicDescription":return{...o,topicDescription:e};case"topicContent":return{...o,contentData:e};case"uploadContent":return{...o,uploadContent:[...o?.uploadContent,e]};default:return o}}));n(o)},u=(e,t)=>{const o=i?.map(((o,r)=>{if(r+1===l){let r=o?.subTopics?.map(((o,r)=>{if(r+1!==c)return o;switch(t){case"subTopicName":return{...o,subTopicName:e};case"subTopicDescription":return{...o,subTopicDescription:e};case"subTopicContent":return{...o,contentData:e};case"uploadContent":return{...o,uploadContent:[...o?.uploadContent,e]};default:return o}}));return{...o,subTopics:r}}return o}));n(o)},m=(t,r,a)=>e.createElement("div",{id:a},((t,o)=>e.createElement("div",null,e.createElement("h5",{style:{marginBottom:10}},"topic"===o?"Topic Name :":"SubTopic Name :"),e.createElement("input",{className:"input",placeholder:"topic"===o?"Topic Name":"SubTopic Name",style:{flex:1,width:"99.3%",borderWidth:1,borderColor:"lightgray",borderStyle:"solid"},value:"topic"===o?t.topicName:t.subTopicName,onChange:e=>"topic"===o?d(e.target.value,"topicName"):u(e.target.value,"subTopicName")})))(t,r),((t,r)=>e.createElement(e.Fragment,null,e.createElement("h5",{style:{marginBottom:10}},"Content :"),e.createElement(o,{initialContentState:t?.contentData,onChange:e=>"topic"===r?d(e,"topicContent"):u(e,"subTopicContent"),toolbarClassName:"toolbarClassName localToolBar",wrapperClassName:"wrapperClassName localEditor localEditorBorder",editorClassName:"editorClassName localEditor",style:{width:"100%",borderWidth:1,borderColor:"lightgray",borderStyle:"solid",borderRadius:15}})))(t,r),((t,o)=>{let r=t?.uploadContent?.length>0;return e.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},e.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},r&&t?.uploadContent?.map((t=>e.createElement("img",{src:t,alt:"",style:{height:94,width:100,marginRight:10,marginBottom:10}})))),e.createElement("div",{style:{marginBottom:20,width:r?100:200,height:94,flexDirection:"row",justifyContent:"center",alignItems:"center",border:"2px #8687a7 dashed",borderRadius:5}},e.createElement("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"audio/*,audio/*,image/*,application/*,text/*,.js,.c,.py,.cpp",className:"inputfile",style:{height:94,width:r?100:200},onChange:e=>{""!==e.target.value&&("topic"===o?d(e.target.value,"uploadContent"):u(e.target.value,"uploadContent"))}}),e.createElement("h5",{htmlFor:"file",style:{marginLeft:r?43:35,marginTop:r?33:40,color:"#8687a7",fontSize:r?22:14}},e.createElement("p",null,r?"+":"Upload Media & Files"))))})(t,r)),b=i?.length,h=i?.[l-1]?.subTopics?.length;return e.createElement("div",{style:{padding:"20px"}},e.createElement("div",{style:{alignContent:"center",display:"flex",flexDirection:"row",flexWrap:"wrap"}},[...new Array(b)]?.map(((t,o)=>e.createElement("div",{style:{flexDirection:"row",position:"relative"}},e.createElement("button",{style:{height:30,width:65,borderRadius:5,marginRight:10,marginBottom:15,borderStyle:"solid",borderWidth:l===o+1?0:1,backgroundColor:l===o+1?"#3133b1":"transparent",color:l===o+1?"white":"black",position:"relative"},onClick:()=>{s(o+1),p(1)}},"Topic ",o+1),b>1&&e.createElement("button",{style:{position:"absolute",top:-10,left:50,color:"red",borderRadius:40,borderWidth:0,transform:"rotate(45deg)"},onClick:()=>(e=>{let t=i?.length,o=i?.filter(((t,o)=>o!==e));n(o),l===t&&s(l-1)})(o)},"+")))),e.createElement("div",null,e.createElement("button",{style:{height:30,width:65,borderRadius:5,marginRight:10,marginBottom:15,borderStyle:"solid",border:"2px #8687a7 dashed",backgroundColor:"transparent",fontSize:15,color:"#8687a7"},onClick:()=>{n([...i,a])}},"+"))),i?.map(((e,t)=>l===t+1?m(e,"topic",`topic ${t}`):null)),e.createElement("div",{style:{display:"flex",flexDirection:0===h?"column":"row",flexWrap:"wrap"}},[...new Array(h)]?.map(((t,o)=>e.createElement("div",{style:{flexDirection:"row",position:"relative"}},e.createElement("button",{style:{height:30,width:100,borderRadius:5,marginRight:10,marginBottom:15,borderStyle:"solid",borderWidth:c===o+1?0:1,backgroundColor:c===o+1?"#3133b1":"transparent",color:c===o+1?"white":"black"},onClick:()=>p(o+1)},"Sub Topic ",o+1),e.createElement("button",{style:{position:"absolute",top:-10,left:85,color:"red",borderRadius:40,borderWidth:0,transform:"rotate(45deg)"},onClick:()=>(e=>{let t=i?.map(((t,o)=>{if(o===l-1){let o=t?.subTopics?.length,r=t?.subTopics?.filter(((t,o)=>o!==e));return c===o&&p(c-1),{...t,subTopics:r}}return t}));n(t)})(o)},"+")))),0===h&&e.createElement("h5",null,"Add SubTopic :"),e.createElement("button",{style:{height:30,width:65,borderRadius:5,marginRight:10,marginBottom:15,borderStyle:"solid",border:"2px #8687a7 dashed",backgroundColor:"transparent",fontSize:15,color:"#8687a7"},onClick:()=>{let e=i?.map(((e,t)=>{if(t+1===l){let t=[...e.subTopics,r];return{...e,subTopics:t}}return e}));n(e)}},"+")),i?.length>0&&i[l-1]?.subTopics?.map(((e,t)=>c===t+1?m(e,"subTopic",`sub ${t}`):null)))};export{r as LessonPlan};
